

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sphinx Basic Directions &mdash; SphinxMenual 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="SphinxMenual 1.0.0 documentation" href="#"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> SphinxMenual
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Sphinx Basic Directions</a><ul>
<li><a class="reference internal" href="#sphinx">1. Sphinx란</a></li>
<li><a class="reference internal" href="#id1">2. 설치</a></li>
<li><a class="reference internal" href="#id2">3. 환경 설정</a></li>
<li><a class="reference internal" href="#id3">4. 프로젝트 폴더 구조</a></li>
<li><a class="reference internal" href="#sphinx-quickstart">5. sphinx-quickstart</a></li>
<li><a class="reference internal" href="#theme">6. Theme 변경</a></li>
<li><a class="reference internal" href="#sphinx-apidoc">7. sphinx-apidoc</a></li>
<li><a class="reference internal" href="#mock-class">8. Mock Class</a></li>
<li><a class="reference internal" href="#id4">9. 참고 자료</a><ul>
<li><a class="reference internal" href="#restructuredtext">reStructuredText</a></li>
<li><a class="reference internal" href="#python-docstring">Python Docstring</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">SphinxMenual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Sphinx Basic Directions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sphinx-basic-directions">
<h1>Sphinx Basic Directions<a class="headerlink" href="#sphinx-basic-directions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="sphinx">
<h2>1. Sphinx란<a class="headerlink" href="#sphinx" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>, Docstrong Conventions. 문서화에 아주 중요하게 쓰일 docstring 컨벤션에 대해 정의한 PEP 입니다.
Sphinx는 바로 Python 코드 내에 들어간 docstring을 자동으로 문서화해주는 도구이며 아주 간단한 설정만 끝내면 손쉽게 문서를 만들 수 있습니다.</p>
</div>
<div class="section" id="id1">
<h2>2. 설치<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Anaconda2에 기본 내장 되어 있습니다.</p>
</div>
<div class="section" id="id2">
<h2>3. 환경 설정<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>윈도우 환경 설정에 Path를 추가 합니다.</dt>
<dd>[고급 시스템 설정] -&gt; [고급] -&gt; [환경 변수] -&gt; [새로 만들기] -&gt; [새 사용자 변수]</dd>
</dl>
<img alt="_images/0001.jpg" src="_images/0001.jpg" />
<p>[고급 시스템 설정]</p>
<img alt="_images/0002.jpg" src="_images/0002.jpg" />
<p>[고급] -&gt; [환경 변수]</p>
<img alt="_images/0003.jpg" src="_images/0003.jpg" />
<p>[새로 만들기]</p>
<img alt="_images/0004.jpg" src="_images/0004.jpg" />
<p>[새 사용자 변수]</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>시스템 환경 변수는 본사에서 관리 하므로 추가 하지 않는다.</p>
<p>변수 이름: Paht</p>
<p class="last">변수 값: Anaconda가 설치된 경로에 Script 폴더로 설정 한다.</p>
</div>
</div>
<div class="section" id="id3">
<h2>4. 프로젝트 폴더 구조<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>프로 젝트 폴더 구조는 다음과 같이 만듭니다.</p>
<img alt="_images/0005.jpg" src="_images/0005.jpg" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>폴더 구조는 다음 싸이트를 참고 했습니다.</p>
<p class="last"><a class="reference external" href="http://python-guide-kr.readthedocs.io/ko/latest/writing/structure.html">link1</a>, <a class="reference external" href="http://stackoverflow.com/questions/193161/what-is-the-best-project-structure-for-a-python-application">link2</a>, <a class="reference external" href="https://learnpythonthehardway.org/book/ex46.html">link3</a></p>
</div>
</div>
<div class="section" id="sphinx-quickstart">
<h2>5. sphinx-quickstart<a class="headerlink" href="#sphinx-quickstart" title="Permalink to this headline">¶</a></h2>
<p>cmd 창에서 docs 폴더로 이동 합니다.</p>
<img alt="_images/0006.jpg" src="_images/0006.jpg" />
<p>cmd 창에서 sphinx-quickstart를 입력하고 다음과 같이 진행합니다.</p>
<img alt="_images/0007.jpg" src="_images/0007.jpg" />
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span>Welcome to the Sphinx 1.4.8 quickstart utility.

Please enter values for the following settings (just press Enter to
accept a default value, if one is given in brackets).

Enter the root path for documentation.
&gt; Root path for the documentation [.]:

You have two options for placing the build directory for Sphinx output.
Either, you use a directory &quot;_build&quot; within the root path, or you separate
&quot;source&quot; and &quot;build&quot; directories within the root path.
&gt; Separate source and build directories (y/n) [n]:

Inside the root directory, two more directories will be created; &quot;_templates&quot;
for custom HTML templates and &quot;_static&quot; for custom stylesheets and other static
files. You can enter another prefix (such as &quot;.&quot;) to replace the underscore.
&gt; Name prefix for templates and static dir [_]:

The project name will occur in several places in the built documentation.
<span class="hll">&gt; Project name: TestProject
</span><span class="hll">&gt; Author name(s): GuenMo Kim
</span>
Sphinx has the notion of a &quot;version&quot; and a &quot;release&quot; for the
software. Each version can have multiple releases. For example, for
Python the version is something like 2.5 or 3.0, while the release is
something like 2.5.1 or 3.0a1. If you don&#39;t need this dual structure,
just set both to the same value.
<span class="hll">&gt; Project version: 1.0.0
</span>&gt; Project release [1.0]:

If the documents are to be written in a language other than English,
you can select a language here by its language code. Sphinx will then
translate text that it generates into that language.

For a list of supported codes, see
http://sphinx-doc.org/config.html#confval-language.
&gt; Project language [en]:

The file name suffix for source files. Commonly, this is either &quot;.txt&quot;
or &quot;.rst&quot;. Only files with this suffix are considered documents.
&gt; Source file suffix [.rst]:

One document is special in that it is considered the top node of the
&quot;contents tree&quot;, that is, it is the root of the hierarchical structure
of the documents. Normally, this is &quot;index&quot;, but if your &quot;index&quot;
document is a custom template, you can also set this to another filename.
&gt; Name of your master document (without suffix) [index]:

Sphinx can also add configuration for epub output:
&gt; Do you want to use the epub builder (y/n) [n]:

Please indicate if you want to use one of the following Sphinx extensions:
<span class="hll">&gt; autodoc: automatically insert docstrings from modules (y/n) [n]: y
</span>&gt; doctest: automatically test code snippets in doctest blocks (y/n) [n]:
<span class="hll">&gt; intersphinx: link between Sphinx documentation of different projects (y/n) [n]: y
</span><span class="hll">&gt; todo: write &quot;todo&quot; entries that can be shown or hidden on build (y/n) [n]: y
</span>&gt; coverage: checks for documentation coverage (y/n) [n]:
&gt; pngmath: include math, rendered as PNG images (y/n) [n]:
&gt; mathjax: include math, rendered in the browser by MathJax (y/n) [n]:
&gt; ifconfig: conditional inclusion of content based on config values (y/n) [n]:
<span class="hll">&gt; viewcode: include links to the source code of documented Python objects (y/n) [n]: y
</span>&gt; githubpages: create .nojekyll file to publish the document on Github pases(y/n) [n]:

A Makefile and a Windows command file can be generated for you so that you
only have to run e.g. `make html&#39; instead of invoking sphinx-build
directly.
&gt; Create Makefile? (y/n) [y]:
&gt; Create Windows command file? (y/n) [y]:

Creating file docs/conf.py.
Creating file docs/index.rst.
Creating file docs/Makefile.
Creating file docs/make.bat.

Finished: An initial directory structure has been created.

You should now populate your master file docs/index.rst and create other documentation
source files. Use the Makefile to build the docs, like so:
   make builder
where &quot;builder&quot; is one of the supported builders, e.g. html, latex or linkcheck.
</pre></div>
</div>
<p>docs 폴더 안에 다음 구조가 생깁니다.</p>
<img alt="_images/0008.jpg" src="_images/0008.jpg" />
<p>cmd 창에서 make html를 입력하고 다음과 같이 진행합니다.</p>
<img alt="_images/0010.jpg" src="_images/0010.jpg" />
<p>_build/html 폴더 안에 다음 구조가 생깁니다.</p>
<img alt="_images/0011.jpg" src="_images/0011.jpg" />
<p>_build/html/index.html을 확인 해보면 다음과 같습니다.</p>
<img alt="_images/0012.jpg" src="_images/0012.jpg" />
</div>
<div class="section" id="theme">
<h2>6. Theme 변경<a class="headerlink" href="#theme" title="Permalink to this headline">¶</a></h2>
<p>Sphinx로 만들어지는 html의 테마를 병경 해보겠습니다.</p>
<p>다음 링크로 이동 하고 다운로드 합니다.</p>
<p>Read The Docs Theme : <a class="reference external" href="https://github.com/snide/sphinx_rtd_theme">https://github.com/snide/sphinx_rtd_theme</a></p>
<img alt="_images/0013.jpg" src="_images/0013.jpg" />
<p>앞축을 풀고 sphinx_rtd_theme-master/sphinx_rtd_theme-master/ 안에 sphinx_rtd_theme 폴더를 복사 하고</p>
<p>docs/_theme 폴더를 만들어 붙여넣기를 합니다.</p>
<img alt="_images/0014.jpg" src="_images/0014.jpg" />
<p>docs/conf.py를 수정 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span>html_theme = &#39;sphinx_rtd_theme&#39;

html_theme_options = {
    &#39;collapse_navigation&#39;: False,
    &#39;display_version&#39;: False,
    &#39;navigation_depth&#39;: 3,
}

html_theme_path =  [&quot;_themes&quot;, ]
</pre></div>
</div>
<p>cmd 창에서 make html을 다시 실행 합니다.</p>
<p>_build/html/index.html을 다시 확인 해보면 테마가 변경된 것을 볼수 있습니다.</p>
<img alt="_images/0015.jpg" src="_images/0015.jpg" />
</div>
<div class="section" id="sphinx-apidoc">
<h2>7. sphinx-apidoc<a class="headerlink" href="#sphinx-apidoc" title="Permalink to this headline">¶</a></h2>
<p>apidoc은 프로젝트에 포함한 pacakge, module, class, fuction, value들에 포함된 주석들을 자동으로 문서화 해주는 기능 입니다.</p>
<p>우선 docs/conf.py를 수정 합니다.</p>
<p>주석 처리된 부분을 찾아서 아래와 같이 수정 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span># import os
# import sys
# sys.path.insert(0, os.path.abspath(&#39;.&#39;))

# source_encoding = &#39;utf-8-sig&#39;


import os
import sys
sys.path.insert(0, os.path.abspath(&#39;..&#39;)) # 프로젝트 package path 설정

source_encoding = &#39;cp949&#39; # 한글 출력
</pre></div>
</div>
<p>project/main.py에 함수를 추가 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span># coding:utf-8

def testFunc(arg1, arg2):
    &quot;&quot;&quot;이 함수는 두개의 변수를 받아 그 값을 더해 리턴 합니다.

    <span class="nc">:param arg1:</span> <span class="nf">첫 번째 변수 입니다.</span>
    <span class="nc">:type arg1:</span> <span class="nf">(int)</span>
    <span class="nc">:param arg2:</span> <span class="nf">두 번째 변수 입니다.</span>
    <span class="nc">:type arg1:</span> <span class="nf">(float)</span>

    <span class="nc">:returns:</span> <span class="nf">arg1 + arg2</span>
    <span class="nc">:rtype:</span> <span class="nf">(float)</span>

    <span class="nc">:Example:</span>

    &gt;&gt;&gt; print testFunc(1 , 0.5)
    1.5

    &quot;&quot;&quot;

    return arg1 + arg2
</pre></div>
</div>
<p>cmd 창에 다음과 같이 입력하고 실행 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span>sphinx-apidoc -F -o &lt;docs의 경로&gt; &lt;프로젝트의 package 경로&gt; --separate

ex)
sphinx-apidoc -F -o D:\TestProject\docs D:\TestProject\testProject\ --separate
</pre></div>
</div>
<p>아래와 같이 결과가 출력 됩니다. 위에 두 줄을 보면 testProject.rst와 testProject.main.rst 추가 적으로 두개의 파일이 생성 됩니다.</p>
<img alt="_images/0016.jpg" src="_images/0016.jpg" />
<dl class="docutils">
<dt>cmd 창에 make html을 실행 하고 _buildhtmlindex.html을 확인한다.</dt>
<dd><dl class="first last docutils">
<dt>[Module Index] -&gt; [testProject.main] 클릭 합니다.</dt>
<dd>주석이 자동으로 문서화 되었습니다.</dd>
</dl>
</dd>
</dl>
<img alt="_images/0017.jpg" src="_images/0017.jpg" />
</div>
<div class="section" id="mock-class">
<h2>8. Mock Class<a class="headerlink" href="#mock-class" title="Permalink to this headline">¶</a></h2>
<p>project/fucntionForMaya.py 추가 합니다.</p>
<img alt="_images/0018.jpg" src="_images/0018.jpg" />
<p>함수를 다음과 같이 추가 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span># coding:utf-8

import pymel.all as pm

def makeCube():
    &quot;&quot;&quot; 폴리곤 큐브를 만들고 이름을 리턴 합니다.

    <span class="nc">:returns:</span> <span class="nf">폴리곤 큐브 이름</span>
    <span class="nc">:rtype:</span> <span class="nf">(str)</span>

    &quot;&quot;&quot;
    cube = pm.polyCube()

    return cube.name()
</pre></div>
</div>
<p>cmd 창에 다음과 같이 입력하고 실행 합니다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span>sphinx-apidoc -F -o D:\TestProject\docs D:\TestProject\testProject\ --separate
</pre></div>
</div>
<p>새로 fucntionForMaya.rst 파일이 생성 되었습니다.</p>
<img alt="_images/0019.jpg" src="_images/0019.jpg" />
<p>cmd 창에 make html 실행해 보면 <code class="file docutils literal"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">pymel.all</span></code> 라는 에러가 발생 하면서 문서화가 실패 합니다.</p>
<p>Anaconda2 python에서 pymel 당연히 모듈을 찾을수 없기 때문입니다.</p>
<img alt="_images/0020.jpg" src="_images/0020.jpg" />
<p>conf.py 파일에 다음 코드를 추가 한다.</p>
<div class="highlight-restructuredtext"><div class="highlight"><pre><span></span>import os
import sys
sys.path.insert(0, os.path.abspath(&#39;..&#39;))
# 다음 줄에 아래 코드를 추가 한다.

<span class="hll">class Mock(object):
</span><span class="hll">
</span><span class="hll">    __all__ = []
</span><span class="hll">
</span><span class="hll">    def __init__(self, <span class="ge">*args, *</span>*kwargs):
</span><span class="hll">        pass
</span><span class="hll">
</span><span class="hll">    def __call__(self, <span class="ge">*args, *</span>*kwargs):
</span><span class="hll">        return Mock()
</span><span class="hll">
</span><span class="hll">    @classmethod
</span><span class="hll">    def __getattr__(cls, name):
</span><span class="hll">        if name in (&#39;__file__&#39;, &#39;__path__&#39;):
</span><span class="hll">            return &#39;/dev/null&#39;
</span><span class="hll">        elif name[0] == name[0].upper():
</span><span class="hll">            mockType = type(name, (), {})
</span><span class="hll">            mockType.__module__ = __name__
</span><span class="hll">            return mockType
</span><span class="hll">        else:
</span><span class="hll">            return Mock()
</span><span class="hll">
</span><span class="hll">MOCK_MODULES = [&#39;maya&#39;, &#39;maya.cmds&#39;, &#39;maya.mel&#39;,
</span><span class="hll">                &#39;maya.OpenMaya&#39;, &#39;maya.OpenMayaUI&#39;,
</span><span class="hll">                &#39;maya.api.OpenMaya&#39;, &#39;maya.api.OpenMayaUI&#39;,
</span><span class="hll">                &#39;pymel&#39;, &#39;pymel.core&#39;, &#39;pymel.all&#39;]
</span><span class="hll">
</span><span class="hll">for mod_name in MOCK_MODULES:
</span><span class="hll">    sys.modules[mod_name] = Mock()
</span></pre></div>
</div>
<p>cmd 창에 make html 실행 한후 새로운 만든 함수의 주석이 문서화 되었는지 확인 합니다.</p>
<img alt="_images/0021.jpg" src="_images/0021.jpg" />
</div>
<div class="section" id="id4">
<h2>9. 참고 자료<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="restructuredtext">
<h3>reStructuredText<a class="headerlink" href="#restructuredtext" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.sphinx-doc.org/en/1.4.8/rest.html">http://www.sphinx-doc.org/en/1.4.8/rest.html</a></p>
<p><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html#third">http://docutils.sourceforge.net/docs/user/rst/quickref.html#third</a></p>
<p><a class="reference external" href="http://thomas-cokelaer.info/tutorials/sphinx/rest_syntax.html">http://thomas-cokelaer.info/tutorials/sphinx/rest_syntax.html</a></p>
</div>
<div class="section" id="python-docstring">
<h3>Python Docstring<a class="headerlink" href="#python-docstring" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html</a></p>
<p><a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html">http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html</a></p>
<p><a class="reference external" href="http://thomas-cokelaer.info/tutorials/sphinx/docstring_python.html">http://thomas-cokelaer.info/tutorials/sphinx/docstring_python.html</a></p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, GuenMo Kim.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>